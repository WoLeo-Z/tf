$,window.tfhome={api:"https://api.thebearsoft.cn/tf/",page:1,isLoading:!1,isEnd:!1,getData(){this.isEnd||this.isLoading||$.ajax({url:this.api+11*(this.page-1),method:"GET",dataType:"JSON",beforeSend:()=>{this.isLoading=!0,$(".more_button").addClass("loading")},success:t=>{t.data.forEach(t=>{let a=`<div class="item_wrapper">\n                                    <div class="item">\n                                        <div class="cover" style="background-image: url(${t.icon});"></div>\n                                        <h3 class="name">${t.name}</h3>\n                                        <p class="description">${t.desc}</p>\n                                        <div class="tf_link">                                        \n                                            <a href="${t.tf}" target="_blank"><img src="/static/image/flight.png">获取</a>\n                                        </div>\n                                    </div>\n                                </div>`;$(".list").append($(a))}),this.page++,t.data.length<=0&&(this.isEnd=!0,$("#more").text("加载完毕"),$(".more_button").css("pointer-events","none"))},complete:()=>{this.isLoading=!1,$(".more_button").removeClass("loading")}})}},$(()=>{tfhome.getData(),$(".more_button").click(()=>{tfhome.getData()})});